{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\Works\\\\NewsApp\\\\clone\\\\news\\\\src\\\\something\\\\cards.jsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { loadnews, changeIndex, totalres } from \"../Reducer/SearchReducer\";\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { Card } from \"./card\";\nimport uuid from 'uuid';\nexport var Cards = function Cards(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pageStr = _useState6[0],\n      setPage = _useState6[1];\n\n  var total = useSelector(function (state) {\n    return state.search.totalResults;\n  });\n  var left = '<<';\n  var right = '>>';\n  dispatch = useDispatch();\n  var wordSe = useSelector(function (state) {\n    return state.search.word;\n  });\n  var pg = useSelector(function (state) {\n    return state.search.page;\n  });\n  var pgSize = useSelector(function (state) {\n    return state.search.pageSize;\n  });\n  var totalPage = Math.ceil(total / pgSize);\n\n  var getMovies = function getMovies() {\n    var response, json;\n    return _regeneratorRuntime.async(function getMovies$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"https://newsapi.org/v2/everything?q=\" + wordSe + \"&page=\" + pg + \"&pageSize=\" + pgSize + \"&apiKey=482d083900f44dbc992e9d0195a02dca\"));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            json = _context.sent;\n            dispatch(totalres(json.totalResults));\n            setData(json.articles);\n            dispatch(loadnews(json.articles));\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 15:\n            _context.prev = 15;\n            setLoading(false);\n            return _context.finish(15);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 12, 15, 18]], Promise);\n  };\n\n  useEffect(function () {\n    console.log('Это я');\n    getMovies();\n  }, []);\n  useEffect(function () {\n    var isComponentMounted = true;\n\n    var PG = function PG() {\n      var response, json;\n      return _regeneratorRuntime.async(function PG$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(fetch(\"https://newsapi.org/v2/everything?q=\" + wordSe + \"&page=\" + pageStr + \"&pageSize=\" + pgSize + \"&apiKey=482d083900f44dbc992e9d0195a02dca\"));\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 5:\n              json = _context2.sent;\n\n              if (isComponentMounted) {\n                dispatch(totalres(json.totalResults));\n                setData(json.articles);\n                dispatch(loadnews(json.articles));\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    PG();\n    return function () {\n      isComponentMounted = false;\n    };\n  }, [pageStr]);\n\n  var press = function press(index) {\n    dispatch(changeIndex(index));\n    navigation.push('Cards');\n  };\n\n  var onLeft = function onLeft() {\n    setPage(pageStr - 1);\n    dispatch(loadnews([]));\n  };\n\n  var onRight = function onRight() {\n    setPage(pageStr + 1);\n    dispatch(loadnews([]));\n  };\n\n  var rr = data.map(function (item, index) {\n    var img = {\n      uri: item.urlToImage\n    };\n    return React.createElement(React.Fragment, null, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        press(index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 1\n      }\n    }, React.createElement(Image, {\n      style: styles.im,\n      resizeMode: \"cover\",\n      source: img,\n      key: uuid(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 1\n      }\n    }), React.createElement(Text, {\n      style: styles.title,\n      key: uuid(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 1\n      }\n    }, item.title), React.createElement(Text, {\n      style: styles.desc,\n      key: uuid(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 1\n      }\n    }, item.content, \"\\n\", \"\\n\")));\n  });\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      padding: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, isLoading ? React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  }, \"\\u0417\\u0410\\u0413\\u0420\\u0423\\u0417\\u041A\\u0410......\") : React.createElement(ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 8\n    }\n  }, rr, React.createElement(View, {\n    style: styles.pagin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 8\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.boxPagin,\n    onPress: function onPress() {\n      onLeft();\n    },\n    key: uuid(),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 8\n    }\n  }, React.createElement(Text, {\n    style: styles.txt,\n    key: uuid(),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 8\n    }\n  }, left)), React.createElement(Text, {\n    key: uuid(),\n    style: styles.txt1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 8\n    }\n  }, pageStr, ' из ', totalPage), React.createElement(TouchableOpacity, {\n    style: styles.boxPagin,\n    onPress: function onPress() {\n      onRight();\n    },\n    key: uuid(),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 8\n    }\n  }, React.createElement(Text, {\n    style: styles.txt,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 90\n    }\n  }, right)))));\n};\nvar styles = StyleSheet.create({\n  title: {\n    color: 'blue',\n    fontSize: 20\n  },\n  desc: {\n    fontSize: 16\n  },\n  im: {\n    width: 800,\n    height: 300\n  },\n  loading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  pagin: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    justifyContent: 'space-between'\n  },\n  txt: {\n    fontSize: 19\n  },\n  boxPagin: {},\n  txt1: {\n    fontSize: 19\n  }\n});","map":{"version":3,"sources":["E:/Works/NewsApp/clone/news/src/something/cards.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","loadnews","changeIndex","totalres","ScrollView","Card","uuid","Cards","navigation","isLoading","setLoading","data","setData","pageStr","setPage","total","state","search","totalResults","left","right","dispatch","wordSe","word","pg","page","pgSize","pageSize","totalPage","Math","ceil","getMovies","fetch","response","json","articles","console","error","log","isComponentMounted","PG","press","index","push","onLeft","onRight","rr","map","item","img","uri","urlToImage","styles","im","title","desc","content","flex","padding","pagin","boxPagin","txt","txt1","StyleSheet","create","color","fontSize","width","height","loading","position","top","bottom","alignItems","justifyContent","flexDirection"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { View, Text, Button, Image ,FlatList, ActivityIndicator, StyleSheet,Dimensions, TouchableOpacity } from 'react-native';\r\n//import { Api } from '../Api/Api';\r\nimport { loadnews, changeIndex,totalres } from '../Reducer/SearchReducer';\r\nimport { ScrollView } from 'react-native-gesture-handler';\r\nimport {Card} from './card'\r\n//import axios from 'axios';\r\nimport uuid from 'uuid'\r\n\r\nexport const Cards = ({navigation}) => {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [data, setData] = useState([]);\r\n    const [pageStr, setPage] = useState(1);//Номер страницы\r\n  const total = useSelector((state)=>state.search.totalResults)\r\n   const left = '<<'\r\n   const right = '>>'\r\n    dispatch =useDispatch();\r\n    let wordSe = useSelector((state)=>state.search.word);\r\n    let pg = useSelector((state)=>state.search.page);\r\n    let pgSize = useSelector((state)=>state.search.pageSize);//Кол-во новостей на странице\r\n    const totalPage = Math.ceil(total/pgSize) //общее кол-во страниц\r\n   // console.log(state) \r\n    const getMovies = async () => {\r\n   \r\n       try {\r\n\r\n        const response = await fetch(`https://newsapi.org/v2/everything?q=${wordSe}&page=${pg}&pageSize=${pgSize}&apiKey=482d083900f44dbc992e9d0195a02dca`);\r\n        const json = await response.json();\r\n        dispatch(totalres(json.totalResults))\r\n        setData(json.articles);\r\n        dispatch (loadnews(json.articles));\r\n      } catch (error) {\r\n        console.error(error);\r\n      } finally {\r\n        setLoading(false);\r\n        \r\n      }\r\n    }\r\n\r\n   // const PG = async() => {\r\n   //  try {\r\n\r\n     //   const response = await fetch(`https://newsapi.org/v2/everything?q=${wordSe}&page=${pageStr}&pageSize=${pgSize}&apiKey=482d083900f44dbc992e9d0195a02dca`);\r\n     //   const json = await response.json();\r\n      //  dispatch(totalres(json.totalResults))\r\n      //  setData(json.articles);\r\n      //  dispatch (loadnews(json.articles));\r\n    //  } catch (error) {\r\n     //   console.error(error);\r\n    //  } finally {\r\n    //    setLoading(false);\r\n        \r\n   //   }\r\n  //  }\r\n    useEffect(() => {\r\n      console.log('Это я')\r\n      getMovies();\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n      let isComponentMounted = true;\r\n      const PG = async() => {\r\n        const response = await fetch(`https://newsapi.org/v2/everything?q=${wordSe}&page=${pageStr}&pageSize=${pgSize}&apiKey=482d083900f44dbc992e9d0195a02dca`);\r\n        const json = await response.json();\r\n        if (isComponentMounted){\r\n          dispatch(totalres(json.totalResults))\r\n          setData(json.articles);\r\n          dispatch (loadnews(json.articles));\r\n        }\r\n      }\r\n      PG();\r\n      return () => {\r\n        isComponentMounted = false;}\r\n    }, [pageStr]);\r\n\r\n const press =(index)=>{\r\n \r\n  dispatch(changeIndex(index))\r\n   navigation.push('Cards')\r\n  \r\n }\r\n const onLeft = () =>{\r\n   setPage(pageStr - 1)\r\n   dispatch (loadnews([]));\r\n   //PG();\r\n   \r\n }\r\n const onRight  = () =>{\r\n   setPage(pageStr + 1)\r\n   dispatch (loadnews([]));\r\n   //PG();\r\n }\r\n\r\n  let rr = data.map((item, index)=>{\r\n    let img = {uri:item.urlToImage}\r\n//onPress={()=>{press(index)}}\r\nreturn <>\r\n<TouchableOpacity  onPress={()=>{press(index)}}>\r\n\r\n<Image style={styles.im} resizeMode=\"cover\"  source={img} key={uuid()}/>\r\n<Text style={styles.title} key={uuid()}>{item.title}</Text>\r\n<Text style={styles.desc} key={uuid()}>{item.content}{\"\\n\"}{\"\\n\"}</Text>\r\n</TouchableOpacity>\r\n</>      \r\n  })\r\n \r\n \r\n \r\n    return (\r\n      <View style={{ flex: 1, padding: 24 }}>\r\n     {isLoading ? <Text>ЗАГРУЗКА......</Text>: (\r\n       <ScrollView>{rr}\r\n       <View style={styles.pagin}>\r\n       <TouchableOpacity style={styles.boxPagin} onPress={()=>{onLeft()}} key={uuid()}>\r\n       <Text style={styles.txt} key={uuid()}>{left}</Text>\r\n       </TouchableOpacity>\r\n       <Text key={uuid()} style={styles.txt1}>{pageStr}{' из '}{totalPage}</Text>\r\n       <TouchableOpacity style={styles.boxPagin}  onPress={()=>{onRight()}} key={uuid()}><Text style={styles.txt} >{right}</Text></TouchableOpacity>\r\n       </View>\r\n       </ScrollView>\r\n     )}\r\n      </View>\r\n    );\r\n}//<Text>ЗАГРУЗКА......</Text>\r\nconst styles = StyleSheet.create({\r\ntitle:{\r\n  color: 'blue',\r\nfontSize:20\r\n},\r\ndesc:{\r\n  fontSize:16\r\n},\r\nim: {\r\n  width:800,\r\n  height:300\r\n},\r\nloading: {\r\n  position: 'absolute',\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n  alignItems: 'center',\r\n  justifyContent: 'center'\r\n},\r\npagin:{\r\nflexDirection: 'row',\r\n //backgroundColor: 'grey',\r\njustifyContent: 'center',\r\njustifyContent: 'space-between',\r\n},\r\ntxt:{\r\n  fontSize:19,\r\n  \r\n \r\n},\r\nboxPagin:{\r\n // textAlign: \"center\",\r\n  \r\n},\r\ntxt1:{\r\n  //backgroundColor: 'green',\r\n  fontSize:19,\r\n // alignItems: 'center',\r\n\r\n}\r\n})\r\n\r\n\r\n "]},"metadata":{},"sourceType":"module"}