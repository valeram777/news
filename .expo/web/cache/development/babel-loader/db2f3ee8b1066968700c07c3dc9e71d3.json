{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\Works\\\\NewsApp\\\\newApp\\\\src\\\\something\\\\cards.jsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { loadnews, changeIndex, totalres } from \"../Reducer/SearchReducer\";\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { Card } from \"./card\";\nimport uuid from 'uuid';\nexport var Cards = function Cards(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _Dimensions$get = Dimensions.get('window'),\n      width = _Dimensions$get.width,\n      height = _Dimensions$get.height;\n\n  dispatch = useDispatch();\n\n  var getMovies = function getMovies() {\n    var wordSe, pg, pgSize, response, json;\n    return _regeneratorRuntime.async(function getMovies$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            wordSe = useSelector(function (state) {\n              return state.search.word;\n            });\n            pg = useSelector(function (state) {\n              return state.search.page;\n            });\n            pgSize = useSelector(function (state) {\n              return state.search.pageSize;\n            });\n            _context.prev = 3;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(fetch(\"https://newsapi.org/v2/everything?q=\" + wordSe + \"&page=\" + pg + \"&pageSize=\" + pgSize + \"&apiKey=482d083900f44dbc992e9d0195a02dca\"));\n\n          case 6:\n            response = _context.sent;\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 9:\n            json = _context.sent;\n            dispatch(totalres(json.totalResults));\n            setData(json.articles);\n            dispatch(loadnews(json.articles));\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](3);\n            console.error(_context.t0);\n\n          case 18:\n            _context.prev = 18;\n            setLoading(false);\n            return _context.finish(18);\n\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 15, 18, 21]], Promise);\n  };\n\n  useEffect(function () {\n    getMovies();\n  }, []);\n\n  var press = function press(index) {\n    dispatch(changeIndex(index));\n    navigation.push('Cards');\n  };\n\n  var rr = data.map(function (item, index) {\n    var img = {\n      uri: item.urlToImage\n    };\n    return React.createElement(React.Fragment, null, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        press(index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 1\n      }\n    }, React.createElement(Image, {\n      style: styles.im,\n      resizeMode: \"cover\",\n      source: img,\n      key: uuid(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 1\n      }\n    }), React.createElement(Text, {\n      style: styles.title,\n      key: uuid(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 1\n      }\n    }, item.title), React.createElement(Text, {\n      style: styles.desc,\n      key: uuid(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 1\n      }\n    }, item.content, \"\\n\", \"\\n\")));\n  });\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      padding: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, isLoading ? React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, \"\\u0417\\u0410\\u0413\\u0420\\u0423\\u0417\\u041A\\u0410......\") : React.createElement(ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 8\n    }\n  }, rr));\n};\nvar styles = StyleSheet.create({\n  title: {\n    color: 'blue',\n    fontSize: 20\n  },\n  desc: {\n    fontSize: 16\n  },\n  im: {\n    width: 800,\n    height: 300\n  },\n  loading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["E:/Works/NewsApp/newApp/src/something/cards.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","loadnews","changeIndex","totalres","ScrollView","Card","uuid","Cards","navigation","isLoading","setLoading","data","setData","Dimensions","get","width","height","dispatch","getMovies","wordSe","state","search","word","pg","page","pgSize","pageSize","fetch","response","json","totalResults","articles","console","error","press","index","push","rr","map","item","img","uri","urlToImage","styles","im","title","desc","content","flex","padding","StyleSheet","create","color","fontSize","loading","position","left","right","top","bottom","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { View, Text, Button, Image ,FlatList, ActivityIndicator, StyleSheet,Dimensions, TouchableOpacity } from 'react-native';\r\n//import { Api } from '../Api/Api';\r\nimport { loadnews, changeIndex,totalres } from '../Reducer/SearchReducer';\r\nimport { ScrollView } from 'react-native-gesture-handler';\r\nimport {Card} from './card'\r\n//import axios from 'axios';\r\nimport uuid from 'uuid'\r\n\r\nexport const Cards = ({navigation}) => {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [data, setData] = useState([]);\r\n    const { width, height } = Dimensions.get('window');\r\n    dispatch =useDispatch();\r\n    \r\n   // console.log(state) \r\n    const getMovies = async () => {\r\n      let wordSe = useSelector((state)=>state.search.word);\r\n    let pg = useSelector((state)=>state.search.page);\r\n    let pgSize = useSelector((state)=>state.search.pageSize);\r\n       try {\r\n\r\n        const response = await fetch(`https://newsapi.org/v2/everything?q=${wordSe}&page=${pg}&pageSize=${pgSize}&apiKey=482d083900f44dbc992e9d0195a02dca`);\r\n        const json = await response.json();\r\n        dispatch(totalres(json.totalResults))\r\n        setData(json.articles);\r\n        dispatch (loadnews(json.articles))\r\n      } catch (error) {\r\n        console.error(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  \r\n    useEffect(() => {\r\n      getMovies();\r\n    }, []);\r\n\r\n const press =(index)=>{\r\n \r\n  dispatch(changeIndex(index))\r\n   navigation.push('Cards')\r\n  \r\n }\r\n \r\n  let rr = data.map((item, index)=>{\r\n    let img = {uri:item.urlToImage}\r\n\r\nreturn <>\r\n<TouchableOpacity onPress={()=>{press(index)}} >\r\n\r\n<Image style={styles.im} resizeMode=\"cover\"  source={img} key={uuid()}/>\r\n<Text style={styles.title} key={uuid()}>{item.title}</Text>\r\n<Text style={styles.desc} key={uuid()}>{item.content}{\"\\n\"}{\"\\n\"}</Text>\r\n</TouchableOpacity>\r\n</>\r\n        \r\n  })\r\n   \r\n\r\n  //totalResults\r\n    return (\r\n      \r\n      <View style={{ flex: 1, padding: 24 }}>\r\n     {isLoading ? <Text>ЗАГРУЗКА......</Text>: (\r\n       <ScrollView>{rr}</ScrollView>\r\n     )}\r\n      </View>\r\n    );\r\n}//<Text>ЗАГРУЗКА......</Text>\r\nconst styles = StyleSheet.create({\r\ntitle:{\r\n  color: 'blue',\r\nfontSize:20\r\n},\r\ndesc:{\r\n  fontSize:16\r\n},\r\nim: {\r\n  width:800,\r\n  height:300\r\n},\r\nloading: {\r\n  position: 'absolute',\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n  alignItems: 'center',\r\n  justifyContent: 'center'\r\n}\r\n\r\n})\r\n\r\n\r\n "]},"metadata":{},"sourceType":"module"}